<div class="container" *ngIf="category">
  <svg [attr.viewBox]="viewBoxDimensions()">
    <g
      app-network-view-node
      [category]="category"
      [@circleState]="getState(category)"
      (click)="selectCategory(category)"
      [class]="getState(category)"
      [options]="{
                state: state,
                relationship: 'root',
                x: 0,
                y: 0,
                radius: baseRadius,
                angle: 0,
                titleHeight: 40
              }"
    ></g>

    <g
      *ngFor="let child of category.children; let k = index"
      class="sibling"
      [attr.transform]="getPositionAsTransformation(category.children.length, k, getState(child))"
    >
      <g
        app-network-view-node
        [category]="child"
        [@circleState]="getState(child)"
        (click)="selectCategory(child)"
        [class]="getState(child)"
        [options]="{
                state: secondary,
                relationship: 'child',
                x: 0,
                y: 0,
                radius: baseRadius,
                angle: 0,
                titleHeight: 40
              }"
      ></g>

      <g
        *ngFor="let grandChild of child.children; let k = index"
        class="sibling"
        [attr.transform]="getPositionAsTransformation(child.children.length, k, getState(grandChild))">
        >
        <!--
        <animateTransform attributeName="transform"
                          attributeType="XML"
                          type="rotate"
                          from="0 60 70"
                          [attr.to]="'360 60 70'"
                          dur="10s"
                          repeatCount="indefinite"></animateTransform>
        -->
        <g
          app-network-view-node
          [category]="grandChild"
          [@circleState]="getState(grandChild)"
          (click)="selectCategory(grandChild)"
          [class]="getState(grandChild)"
          [options]="{
                  state: secondary,
                  relationship: 'child',
                  x: 0,
                  y: 0,
                  radius: baseRadius,
                  angle: 0,
                  titleHeight: 40
                }"
        >
        </g>
      </g>


    </g>

    -->
  </svg>
  <!--
  <svg *ngFor="let c of categories" height="100" width="100"

     (click)="setCategory(c)">>
  <circle [attr.cx]="getState(c) === 'active' ? 50 : 100" [attr.cy]="getState(c) === 'active' ? 50 : 100" r="40" stroke="black" stroke-width="3" fill="red" />
  </svg>
  -->
</div>
