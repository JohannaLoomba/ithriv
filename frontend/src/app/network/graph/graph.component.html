<div class="container" *ngIf="category">
  <svg [attr.viewBox]="viewBoxDimensions()">

    <g
      [@rootState]="{value: getRootState(), params: getRootShift()}"
    >
    <g
      app-network-view-node
      [category]="category"
      (click)="selectCategory(category)"
      [state]="getState(category)"
      [options]="{
                relationship: 'root',
                x: 0,
                y: 0,
                radius: baseRadius,
                angle: 0,
                titleHeight: 40
              }"
    ></g>

    <g
      *ngFor="let child of category.children; let k = index"
      class="sibling"
      [@childState]="{value: getState(child), params: getCatPos(child, category, k)}"
    >
      <g
        app-network-view-node
        [category]="child"
        [state]="getState(child)"
        (click)="selectCategory(child)"
        [options]="{
                relationship: 'child',
                x: 0,
                y: 0,
                radius: baseRadius,
                angle: 0,
                titleHeight: 40
              }"
      ></g>

      <g
        *ngFor="let grandChild of child.children; let k = index"
        class="sibling"
        [@grandchildState]="{value: getState(grandChild), params: getCatPos(grandChild, child, k)}"
        >
        <!--
        <animateTransform attributeName="transform"
                          attributeType="XML"
                          type="rotate"
                          from="0 60 70"
                          [attr.to]="'360 60 70'"
                          dur="10s"
                          repeatCount="indefinite"></animateTransform>
        -->
        <g
          app-network-view-node
          [category]="grandChild"
          [state]="getState(grandChild)"
          (click)="selectCategory(grandChild)"
          [options]="{
                  relationship: 'child',
                  x: 0,
                  y: 0,
                  radius: baseRadius,
                  angle: 0,
                  titleHeight: 40
                }"
        >
        </g>
      </g>


    </g>
    </g>
    -->
  </svg>
  <!--
  <svg *ngFor="let c of categories" height="100" width="100"

     (click)="setCategory(c)">>
  <circle [attr.cx]="getState(c) === 'active' ? 50 : 100" [attr.cy]="getState(c) === 'active' ? 50 : 100" r="40" stroke="black" stroke-width="3" fill="red" />
  </svg>
  -->
</div>
