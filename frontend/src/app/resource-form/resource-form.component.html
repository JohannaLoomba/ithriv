<div *ngIf="isDataLoaded" class="container mat-typography" fxLayout="row" fxLayout.xs="column" fxLayoutWrap fxLayoutGap="1em"
  fxLayoutAlign="center">
  <form [formGroup]="resourceForm" (ngSubmit)="onSubmit()" fxFlex="90%">
    <h2>Resource Details</h2>
    <!-- TODO:  Add Type, Institution, and Availability -->
    <app-form-field *ngFor="let field of getFields()" [errors]="field.formControl ? field.formControl.errors : field.formGroup.errors"
      [field]="field" [formGroup]="resourceForm" [errorMatcher]="errorMatcher"></app-form-field>

    <footer>
      <mat-toolbar color="primary">
        <button type="button" color="accent" mat-raised-button (click)="onSubmit($event)">Save</button>
        <button type="button" mat-raised-button (click)="onCancel()">Cancel</button>
        <button type="button" mat-raised-button *ngIf="!showConfirmDelete && !createNew" (click)="showDelete()">Delete</button>
        <button *ngIf="showConfirmDelete" id="confirm_delete" type="button" mat-raised-button (click)="onDelete()">Permanently Delete This Resource!!!</button>

        <div id="error_message" class="display mat-error" *ngIf="error">{{error}}</div>
      </mat-toolbar>
    </footer>
  </form>
</div>
<div *ngIf="!isDataLoaded" id="spinnerContainer">
  <mat-spinner></mat-spinner>
</div>