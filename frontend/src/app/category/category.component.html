<div *ngIf="isDataLoaded">
  <div class="header" *ngIf="isDataLoaded">
    <mat-card>
      <mat-card-header>
        <mat-card-title-group>
          <mat-card-title>
            <h1 class="mat-h1">
              {{category.name}}
            </h1>
            <p mat-line><a href="#" (click)="goMode($event, category.parent.parent)">{{category.parent.parent.name}}</a> >
              {{category.parent.name}} > {{category.name}}</p>
            <p mat-line>{{category.description}}</p>
          </mat-card-title>
        </mat-card-title-group>
        <div fxFlex></div>
        <app-add-resource-button [category]="category"></app-add-resource-button>
      </mat-card-header>
      <mat-card-content *ngIf="getResources()">
        <mat-tab-group mat-stretch-tabs dynamicHeight>
          <mat-tab label="
            Resources available to {{getUserName()}}
            ({{getResources(getInstitutionId()).length}})
          ">
            <div class="example-small-box mat-elevation-z4">
              <app-resource-list [resources]="getResources(getInstitutionId())"></app-resource-list>
            </div>
          </mat-tab>
          <mat-tab label="View all in category ({{getResources().length}})">
            <div class="example-large-box mat-elevation-z4">
              <app-resource-list [resources]="getResources()"></app-resource-list>
            </div>
          </mat-tab>
        </mat-tab-group>
      </mat-card-content>
    </mat-card>
  </div>
</div>